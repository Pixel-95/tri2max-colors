<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>tri2max Design</title>
  <link rel="icon" type="image/png" href="./assets/tri2max_logo_darkMode.png" />
  <link rel="stylesheet" href="./tokens.css?v=20260220-1" />
</head>

<body>
  <main class="mockup-main">
    <header class="card-brand">
      <img class="brand-logo" src="./assets/tri2max_logo_lightMode.png" alt="Tri2Max logo" />
      <span class="brand-name">TRI2MAX</span>
    </header>
    <h1>Main Heading</h1>
    <p class="intro-copy">A muted shade for the rest of the text.</p>
    <p class="inline-action">
      Inline action:
      <button class="button inline" type="button">Learn more</button>,
      but dont learn too much.
    </p>
    <div class="button-showcase" aria-label="Button variants">
      <button id="theme-toggle" class="button primary" type="button" aria-label="Toggle theme">Go to light
        mode</button>
      <button id="primary-toggle" class="button secondary" type="button" aria-controls="notifications-card"
        aria-expanded="false">Change Primary Color</button>
    </div>

    <section class="card" aria-label="Output card">
      <div class="form-row">
        <span class="row-label">Heart rate</span>
        <output class="output-value">
          <span class="text-primary">156&hairsp;bpm</span>
        </output>
      </div>
      <div class="form-row">
        <span class="row-label">Power</span>
        <output class="output-value">
          <span class="text-primary">351&hairsp;W</span>
        </output>
      </div>
      <div class="form-row">
        <span class="row-label">Pace</span>
        <output class="output-value">
          <span class="text-primary">4:05/km</span>
        </output>
      </div>

      <div class="form-row">
        <label for="field-text">Text Input</label>
        <input id="field-text" class="control" type="text" value="My input text" />
      </div>

      <button class="button secondary" type="button">Card Button</button>
    </section>

    <section class="form-showcase" aria-label="Form elements">

      <div class="form-row">
        <label for="field-switch">Use Gradient</label>
        <label class="switch-control" for="field-switch">
          <input id="field-switch" class="switch-input" type="checkbox" checked />
          <span class="switch-track" aria-hidden="true"></span>
        </label>
      </div>

      <div class="form-row">
        <label for="field-slider">Slider</label>
        <input id="field-slider" class="control-range" type="range" min="0" max="100" value="60" />
      </div>

      <div class="form-row">
        <label for="field-select">Dropdown / Select</label>
        <select id="field-select" class="control">
          <option>Option A</option>
          <option>Option B</option>
          <option>Option C</option>
        </select>
      </div>

      <div class="form-row">
        <span class="row-label">Radio Group</span>
        <fieldset class="radio-group">
          <label class="radio-option">
            <input type="radio" name="field-radio" checked />
            One
          </label>
          <label class="radio-option">
            <input type="radio" name="field-radio" />
            Two
          </label>
        </fieldset>
      </div>

      <div class="form-row">
        <label for="field-checkbox">Checkbox</label>
        <label class="checkbox-control" for="field-checkbox">
          <input id="field-checkbox" type="checkbox" checked />
          Accept
        </label>
      </div>

      <div class="separator" aria-hidden="true"></div>

      <details class="danger-zone">
        <summary>Danger Zone</summary>
        <button class="button destructive" type="button">Delete universe</button>
      </details>
    </section>

    <div class="separator" aria-hidden="true"></div>

    <div class="button-showcase button-showcase-lower" aria-label="Button variants">
      <button id="notifications-toggle" class="button secondary" type="button" aria-controls="notifications-card"
        aria-expanded="false">Notifications</button>
      <button id="notifications-toggle" class="button secondary disabled" type="button"
        aria-controls="notifications-card" aria-expanded="false" disabled>Deactivated</button>
    </div>

    <section id="notifications-card" class="notifications-card" hidden>
      <section class="notifications" aria-label="Notifications">
        <p class="notification success">Success: Changes were saved successfully.</p>
        <p class="notification warning">Warning: Your session will expire in 2 minutes.</p>
        <p class="notification destructive">Destructive: This action cannot be undone.</p>
      </section>
    </section>
  </main>

  <script>
    (function () {
      const root = document.documentElement;
      const toggleButton = document.getElementById("theme-toggle");
      const primaryToggleButton = document.getElementById("primary-toggle");
      const notificationsToggleButton = document.getElementById("notifications-toggle");
      const notificationsCard = document.getElementById("notifications-card");
      const rangeControls = document.querySelectorAll(".control-range");
      const gradientSwitch = document.getElementById("field-switch");
      const STORAGE_KEY = "mockup-theme";
      const PRIMARY_STORAGE_KEY = "mockup-primary-color";
      const NOTIFICATIONS_STORAGE_KEY = "mockup-notifications-visibility";
      const GRADIENT_STORAGE_KEY = "mockup-gradient-enabled";

      const setTheme = (theme) => {
        if (theme === "light") {
          root.setAttribute("data-theme", "light");
        } else {
          root.removeAttribute("data-theme");
        }

        toggleButton.textContent = theme === "light" ? "Go to dark mode" : "Go to light mode";
      };

      const savedTheme = localStorage.getItem(STORAGE_KEY);
      setTheme(savedTheme === "light" ? "light" : "dark");

      toggleButton.addEventListener("click", () => {
        const isLightMode = root.getAttribute("data-theme") === "light";
        const nextTheme = isLightMode ? "dark" : "light";
        localStorage.setItem(STORAGE_KEY, nextTheme);
        setTheme(nextTheme);
      });

      const setPrimaryColor = (color) => {
        if (color === "primary2") {
          root.setAttribute("data-primary", "primary2");
        } else {
          root.removeAttribute("data-primary");
        }

        if (!primaryToggleButton) {
          return;
        }

        const isPrimary2 = color === "primary2";
        primaryToggleButton.setAttribute("aria-pressed", isPrimary2 ? "true" : "false");
      };

      const savedPrimaryColor = localStorage.getItem(PRIMARY_STORAGE_KEY);
      setPrimaryColor(savedPrimaryColor === "primary2" ? "primary2" : "primary");

      primaryToggleButton?.addEventListener("click", () => {
        const isPrimary2 = root.getAttribute("data-primary") === "primary2";
        const nextPrimaryColor = isPrimary2 ? "primary" : "primary2";
        setPrimaryColor(nextPrimaryColor);

        if (nextPrimaryColor === "primary2") {
          localStorage.setItem(PRIMARY_STORAGE_KEY, "primary2");
        } else {
          localStorage.removeItem(PRIMARY_STORAGE_KEY);
        }
      });

      const setGradientMode = (isEnabled) => {
        if (isEnabled) {
          root.setAttribute("data-gradient", "enabled");
        } else {
          root.removeAttribute("data-gradient");
        }

        if (gradientSwitch) {
          gradientSwitch.checked = isEnabled;
        }
      };

      const savedGradientMode = localStorage.getItem(GRADIENT_STORAGE_KEY);
      const initialGradientMode = savedGradientMode === null
        ? gradientSwitch?.checked ?? false
        : savedGradientMode === "enabled";
      setGradientMode(initialGradientMode);

      gradientSwitch?.addEventListener("change", (event) => {
        const isEnabled = event.target.checked;
        setGradientMode(isEnabled);
        localStorage.setItem(GRADIENT_STORAGE_KEY, isEnabled ? "enabled" : "disabled");
      });

      const setNotificationsVisibility = (isVisible) => {
        notificationsCard.hidden = !isVisible;
        notificationsToggleButton.setAttribute("aria-expanded", isVisible ? "true" : "false");
        notificationsToggleButton.textContent = isVisible ? "Hide Notifications" : "Show Notifications";
      };

      const savedNotificationsVisibility = localStorage.getItem(NOTIFICATIONS_STORAGE_KEY);
      const initialNotificationsVisible = savedNotificationsVisibility === null
        ? !notificationsCard.hidden
        : savedNotificationsVisibility === "visible";
      setNotificationsVisibility(initialNotificationsVisible);

      notificationsToggleButton.addEventListener("click", () => {
        const nextNotificationsVisible = notificationsCard.hidden;
        setNotificationsVisibility(nextNotificationsVisible);
        localStorage.setItem(NOTIFICATIONS_STORAGE_KEY, nextNotificationsVisible ? "visible" : "hidden");
      });

      const setRangePercent = (range) => {
        const min = Number(range.min || 0);
        const max = Number(range.max || 100);
        const value = Number(range.value || min);
        const span = max - min;
        const percent = span === 0 ? 0 : ((value - min) / span) * 100;
        range.style.setProperty("--range-percent", `${percent}%`);
      };

      rangeControls.forEach((range) => {
        setRangePercent(range);
        range.addEventListener("input", () => setRangePercent(range));
      });
    })();
  </script>
</body>

</html>
